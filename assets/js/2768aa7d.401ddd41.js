"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[71],{1349:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"getting-started/deployment","title":"Deployment Guide","description":"Project: miicel.io","source":"@site/docs/getting-started/deployment.md","sourceDirName":"getting-started","slug":"/getting-started/deployment","permalink":"/miicel.io/getting-started/deployment","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Deployment Guide"},"sidebar":"docs","previous":{"title":"Quick Start","permalink":"/miicel.io/getting-started/quick-start"},"next":{"title":"Environment Variables","permalink":"/miicel.io/getting-started/environment"}}');var l=i(4848),r=i(8453);const t={sidebar_position:2,title:"Deployment Guide"},o="Vercel Deployment Guide - Miicel.io",c={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Part 1: Initial Deployment (10min)",id:"part-1-initial-deployment-10min",level:2},{value:"1.1 Connect GitHub \u2192 Vercel (3min)",id:"11-connect-github--vercel-3min",level:3},{value:"1.2 Configure Environment Variables (5min)",id:"12-configure-environment-variables-5min",level:3},{value:"1.3 Deploy (2min)",id:"13-deploy-2min",level:3},{value:"Part 2: Domain &amp; SSL (Optional, 10min)",id:"part-2-domain--ssl-optional-10min",level:2},{value:"2.1 Custom Domain Setup",id:"21-custom-domain-setup",level:3},{value:"2.2 Update Environment Variables",id:"22-update-environment-variables",level:3},{value:"Part 3: MercadoPago Webhook (10min)",id:"part-3-mercadopago-webhook-10min",level:2},{value:"3.1 Register Webhook in MercadoPago",id:"31-register-webhook-in-mercadopago",level:3},{value:"3.2 Add Webhook Secret to Vercel",id:"32-add-webhook-secret-to-vercel",level:3},{value:"3.3 Verify Webhook",id:"33-verify-webhook",level:3},{value:"Deployment Checklist",id:"deployment-checklist",level:2},{value:"Quick Commands",id:"quick-commands",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"vercel-deployment-guide---miicelio",children:"Vercel Deployment Guide - Miicel.io"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Project:"})," miicel.io",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Stack:"})," Next.js 16 + Supabase + MercadoPago",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"ETA:"})," 30min full setup"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["GitHub repo: ",(0,l.jsx)(n.code,{children:"skywalking/miicel.io"})]}),"\n",(0,l.jsx)(n.li,{children:"Vercel account with team access"}),"\n",(0,l.jsxs)(n.li,{children:["Supabase project: ",(0,l.jsx)(n.code,{children:"lmqysqapqbttmyheuejo"})]}),"\n",(0,l.jsx)(n.li,{children:"MercadoPago account (production credentials)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"part-1-initial-deployment-10min",children:"Part 1: Initial Deployment (10min)"}),"\n",(0,l.jsx)(n.h3,{id:"11-connect-github--vercel-3min",children:"1.1 Connect GitHub \u2192 Vercel (3min)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Go to ",(0,l.jsx)(n.a,{href:"https://vercel.com/new",children:"https://vercel.com/new"})]}),"\n",(0,l.jsxs)(n.li,{children:["Import ",(0,l.jsx)(n.code,{children:"miicel.io"})," repository"]}),"\n",(0,l.jsxs)(n.li,{children:["Configure project settings:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Framework Preset: Next.js\nRoot Directory: ./\nBuild Command: npm run build\nOutput Directory: .next\nInstall Command: npm install\nNode Version: 20.x\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"DO NOT deploy yet"}),' - click "Environment Variables" first']}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"12-configure-environment-variables-5min",children:"1.2 Configure Environment Variables (5min)"}),"\n",(0,l.jsx)(n.p,{children:"Add these in Vercel Dashboard \u2192 Environment Variables:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Required for all environments (Production + Preview):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Supabase\nNEXT_PUBLIC_SUPABASE_URL=https://lmqysqapqbttmyheuejo.supabase.co\nNEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxtcXlzcWFwcWJ0dG15aGV1ZWpvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYzNDk4ODcsImV4cCI6MjA1MTkyNTg4N30.ObLy7wMqX2F7XqSrDlpBYr9Tx2JVqK5qBWrxgz5nDkU\nSUPABASE_SERVICE_ROLE_KEY=<GET_FROM_SUPABASE_DASHBOARD>\n\n# Encryption (generate: openssl rand -hex 32)\nENCRYPTION_KEY=<64_HEX_CHARACTERS>\n\n# Admin access\nSUPER_ADMINS=gparrar@skywalking.dev\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Production-only variables:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"NEXT_PUBLIC_BASE_URL=https://miicel.io\nMERCADOPAGO_WEBHOOK_SECRET=<ADD_AFTER_WEBHOOK_SETUP>\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Preview-only variables:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"NEXT_PUBLIC_BASE_URL=<AUTO_GENERATED_PREVIEW_URL>\n# Use MercadoPago sandbox credentials for preview\n"})}),"\n",(0,l.jsx)(n.h3,{id:"13-deploy-2min",children:"1.3 Deploy (2min)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:'Click "Deploy" button'}),"\n",(0,l.jsx)(n.li,{children:"Wait for build (~4min)"}),"\n",(0,l.jsx)(n.li,{children:"Verify deployment success"}),"\n",(0,l.jsxs)(n.li,{children:["Note production URL: ",(0,l.jsx)(n.code,{children:"https://sw-commerce-miicel.io"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Expected build output:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\u2713 Compiled successfully in 4.5s\n\u2713 Generating static pages (22/22)\n\u2713 Finalizing page optimization\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"part-2-domain--ssl-optional-10min",children:"Part 2: Domain & SSL (Optional, 10min)"}),"\n",(0,l.jsx)(n.h3,{id:"21-custom-domain-setup",children:"2.1 Custom Domain Setup"}),"\n",(0,l.jsxs)(n.p,{children:["If using custom domain (e.g., ",(0,l.jsx)(n.code,{children:"miicel.io"}),"):"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Vercel Dashboard \u2192 Domains \u2192 Add Domain"}),"\n",(0,l.jsx)(n.li,{children:"Enter domain name"}),"\n",(0,l.jsx)(n.li,{children:"Choose DNS configuration:"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Option A: Vercel DNS (recommended)"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Transfer nameservers to Vercel"}),"\n",(0,l.jsx)(n.li,{children:"Automatic SSL provisioning"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Option B: External DNS"}),"\nAdd these records:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Type: A\nName: vendio (or @)\nValue: 76.76.21.21\n\nType: AAAA  \nName: vendio (or @)\nValue: 2606:4700:4700::1111\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"Wait for DNS propagation (5-30min)"}),"\n",(0,l.jsx)(n.li,{children:"Verify SSL certificate active (auto-provisioned)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"22-update-environment-variables",children:"2.2 Update Environment Variables"}),"\n",(0,l.jsx)(n.p,{children:"After domain active:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Update this variable\nNEXT_PUBLIC_BASE_URL=https://miicel.io\n"})}),"\n",(0,l.jsx)(n.p,{children:"Redeploy to apply changes."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"part-3-mercadopago-webhook-10min",children:"Part 3: MercadoPago Webhook (10min)"}),"\n",(0,l.jsx)(n.h3,{id:"31-register-webhook-in-mercadopago",children:"3.1 Register Webhook in MercadoPago"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Go to ",(0,l.jsx)(n.a,{href:"https://mercadopago.com/developers/panel/app",children:"https://mercadopago.com/developers/panel/app"})]}),"\n",(0,l.jsx)(n.li,{children:"Select your application"}),"\n",(0,l.jsx)(n.li,{children:'Navigate to "Webhooks" section'}),"\n",(0,l.jsx)(n.li,{children:'Click "Add webhook"'}),"\n",(0,l.jsxs)(n.li,{children:["Configure:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"URL: https://miicel.io/api/webhooks/mercadopago\nEvents: \n  \u2713 payment (all events)\n"})}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Save and copy the webhook secret"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"32-add-webhook-secret-to-vercel",children:"3.2 Add Webhook Secret to Vercel"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Vercel Dashboard \u2192 Settings \u2192 Environment Variables"}),"\n",(0,l.jsxs)(n.li,{children:["Add new variable:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Name: MERCADOPAGO_WEBHOOK_SECRET\nValue: <PASTE_SECRET_FROM_MP>\nEnvironment: Production\n"})}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Save (triggers automatic redeploy)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"33-verify-webhook",children:"3.3 Verify Webhook"}),"\n",(0,l.jsx)(n.p,{children:"Test webhook delivery:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Create test order in production"}),"\n",(0,l.jsx)(n.li,{children:"Complete MercadoPago payment"}),"\n",(0,l.jsxs)(n.li,{children:["Check Vercel logs:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"vercel logs --prod | grep mercadopago\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Look for: ",(0,l.jsx)(n.code,{children:"POST /api/webhooks/mercadopago - 200 OK"})]}),"\n",(0,l.jsx)(n.li,{children:"Verify order status updated to 'paid' in Supabase"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"deployment-checklist",children:"Deployment Checklist"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Pre-deployment:"})}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Build passes locally (",(0,l.jsx)(n.code,{children:"npm run build"}),")"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All environment variables ready"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Supabase migrations applied"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","MercadoPago credentials obtained"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Initial deployment:"})}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","GitHub repo connected to Vercel"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Environment variables configured"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Production deployment successful"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","SSL certificate active"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Post-deployment:"})}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Custom domain configured (if applicable)"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","MercadoPago webhook registered"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Webhook secret added to Vercel"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test order completed successfully"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Analytics tracking verified"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Health endpoint responding"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"quick-commands",children:"Quick Commands"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Deploy from CLI\nvercel --prod\n\n# View production logs\nvercel logs --prod\n\n# View preview logs\nvercel logs\n\n# Rollback deployment\nvercel rollback\n\n# List deployments\nvercel ls\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Last Updated:"})," 2025-11-22",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Status:"})," \u2705 Ready for deployment",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Build Validated:"})," \u2705 Local + staging tested"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(6540);const l={},r=s.createContext(l);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);